{"version":3,"sources":["Components/Person.js","Components/Persons.js","Components/PersonForm.js","Components/Filter.js","Components/Notification.js","Services/PersonService.js","App.js","index.js"],"names":["Person","name","number","id","handleDelete","onClick","Persons","data","filter","toShow","person","toLowerCase","includes","map","PersonForm","onSubmit","nameValue","numberValue","nameChange","numberChange","value","onChange","type","Filter","Notification","message","className","baseUrl","axios","get","then","response","newObject","post","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setMessage","useEffect","personService","event","target","preventDefault","personObject","some","p","find","newPerson","window","confirm","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.01577048.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ name, number, id, handleDelete }) => {\n\n    return (\n        <div>\n            {name} {number}<button onClick={()=>handleDelete(id, name)}>Delete</button>\n        </div>\n    )\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ data, filter, handleDelete }) => {\n\n  const toShow = data.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <div>\n      { toShow.map(person => <Person key={person.id} name={person.name} number={person.number} id={person.id} handleDelete={handleDelete} />) }\n    </div>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst PersonForm = ({ onSubmit, nameValue, numberValue, nameChange, numberChange }) => {\n    return (\n      <form onSubmit={onSubmit}>\n        <div>\n          Name: <input \n                  value={nameValue}\n                  onChange={nameChange}\n                />\n        </div>\n        <div>\n          Number: <input\n                    value={numberValue}\n                    onChange={numberChange}\n                  />\n        </div>\n        <div>\n          <button type=\"submit\">Add</button>\n        </div>\n      </form>\n    )\n  }\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({ value, onChange }) => {\n    return (\n        <div>\n            Filter by name: <input\n            value={value}\n            onChange={onChange}\n            />\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\nimport '../index.css'\n\nconst Notification = ({  message }) => {\n    if (message[0] === null) {\n        return null\n    }\n\n    return (\n        <div className={message[1]}>\n            {message[0]}\n        </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\nimport Persons from './Components/Persons'\nimport PersonForm from './Components/PersonForm'\nimport Filter from './Components/Filter'\nimport Notification from './Components/Notification'\nimport personService from './Services/PersonService'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState([null, 'error'])\n \n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    if (persons.some(p => p.name === newName)) {\n      const person = persons.find(person => person.name === newName)\n      const newPerson = { ...person, number: newNumber }\n      if (window.confirm(`${newName} is already added to phonebook. Replace the old number with a new one?`)) {\n        personService.update(person.id, newPerson)\n        .then( response => {\n          setPersons(persons.map(p => p.id !== person.id ? p : response))\n          setMessage([`Number for ${response.name} was updated to ${response.number}`, 'message'])\n          setTimeout(() => {\n            setMessage([null, 'message'])\n          }, 3000)\n        })\n        .catch(error => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          setMessage([`${person.name} was already deleted from server`, 'error'])\n          setTimeout(() => {\n            setMessage([null, 'error'])\n          }, 3000)\n        })\n      }\n    } else {\n      personService.create(personObject)\n      .then( response => {\n        setPersons(persons.concat(response))\n        setMessage([`${response.name} was added to phonebook`, 'message'])\n        setTimeout(() => {\n          setMessage([null, 'message'])\n        }, 3000)\n      })\n      .catch(() => {\n        setMessage(['Please enter a valid name and number.', 'error'])\n        setTimeout(() => {\n          setMessage([null, 'error'])\n        }, 3000)\n      })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const handleDelete = ( id, name ) => {\n    if (window.confirm(`Delete ${name}?`)) {\n        personService.remove(id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== id))\n          setMessage([`Deletion successful`, 'message'])\n          setTimeout(() => {\n            setMessage([null, 'message'])\n          }, 3000)\n        })\n        .catch(error => {\n          setPersons(persons.filter(p => p.id !== id))\n          setMessage([`${name} was already deleted from server`, 'error'])\n          setTimeout(() => {\n            setMessage([null, 'error'])\n          }, 3000)\n        })\n      }\n}\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter value={filter} onChange={handleFilterChange} />\n      <h3>Add a new name</h3>\n      <PersonForm onSubmit={addPerson} nameValue={newName} numberValue={newNumber} nameChange={handleNameChange} numberChange={handleNumberChange} />\n      <h3>Numbers</h3>\n      <Persons data={persons} filter={filter} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}